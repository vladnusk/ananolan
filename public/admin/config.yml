# Decap CMS (formerly Netlify CMS) – Ana Nolan
# See https://decapcms.org/docs/configuration-options/

backend:
  name: github
  repo: vladnusk/ananolan
  branch: main
  base_url: https://decap-proxy.ananolan.workers.dev
  auth_endpoint: auth


# Optional: use Netlify Identity for auth when on Netlify
# local_backend:
#   url: http://localhost:3001/api/v1
#   allowed_hosts: ["localhost"]

media_folder: "public/uploads"
public_folder: "/uploads"

locale: "en"

# i18n: multiple_folders approach – each collection has en/ and ru/ folders
# so editors pick the folder (locale) when creating/editing.

collections:
  # ─── Main site pages (Home, About, Pricing, Contact) ───
  - name: "main_pages_en"
    label: "Main Pages (English)"
    folder: "content/main/pages/en"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Layout", name: "layout", widget: "string", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "main_pages_ru"
    label: "Main Pages (Russian)"
    folder: "content/main/pages/ru"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Layout", name: "layout", widget: "string", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  # ─── Main site blog ───
  - name: "main_blog_en"
    label: "Main Blog (English)"
    folder: "content/main/blog/en"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Author", name: "author", widget: "string", required: false }
      - { label: "Image", name: "image", widget: "image", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "main_blog_ru"
    label: "Main Blog (Russian)"
    folder: "content/main/blog/ru"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Author", name: "author", widget: "string", required: false }
      - { label: "Image", name: "image", widget: "image", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  # ─── Taxes site homepage (structured content) ───
  - name: "taxes_home"
    label: "Taxes Home"
    files:
      - name: "en"
        label: "English"
        file: "content/taxes/home/en.md"
        fields:
          - { label: "Hero Title", name: "hero_title", widget: "string" }
          - { label: "Hero Subtitle", name: "hero_subtitle", widget: "text" }
          - { label: "Hero Image", name: "hero_image", widget: "image", required: false }
          - label: "Highlights"
            name: "highlights"
            widget: "list"
            fields:
              - { label: "Text", name: "text", widget: "string" }
          - { label: "Intro Headline", name: "intro_headline", widget: "string" }
          - { label: "Intro Text", name: "intro_text", widget: "text" }
          - { label: "About Headline", name: "about_headline", widget: "string" }
          - { label: "About Text", name: "about_text", widget: "text" }
          - { label: "About Image", name: "about_image", widget: "image", required: false }
          - { label: "Services Headline", name: "services_headline", widget: "string" }
          - { label: "Services Subtitle", name: "services_subtitle", widget: "text" }
          - label: "Services"
            name: "services"
            widget: "list"
            fields:
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
          - { label: "Pricing Headline", name: "pricing_headline", widget: "string" }
          - { label: "Pricing Subtitle", name: "pricing_subtitle", widget: "text" }
          - label: "Pricing Plans"
            name: "pricing"
            widget: "list"
            required: false
            fields:
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Price", name: "price", widget: "string" }
              - { label: "Description", name: "description", widget: "string", required: false }
              - { label: "Features (one per line)", name: "features", widget: "text", required: false, hint: "Enter each feature on a new line" }
              - { label: "Highlighted", name: "highlighted", widget: "boolean", default: false }
      - name: "ru"
        label: "Russian"
        file: "content/taxes/home/ru.md"
        fields:
          - { label: "Hero Title", name: "hero_title", widget: "string" }
          - { label: "Hero Subtitle", name: "hero_subtitle", widget: "text" }
          - { label: "Hero Image", name: "hero_image", widget: "image", required: false }
          - label: "Highlights"
            name: "highlights"
            widget: "list"
            fields:
              - { label: "Text", name: "text", widget: "string" }
          - { label: "Intro Headline", name: "intro_headline", widget: "string" }
          - { label: "Intro Text", name: "intro_text", widget: "text" }
          - { label: "About Headline", name: "about_headline", widget: "string" }
          - { label: "About Text", name: "about_text", widget: "text" }
          - { label: "About Image", name: "about_image", widget: "image", required: false }
          - { label: "Services Headline", name: "services_headline", widget: "string" }
          - { label: "Services Subtitle", name: "services_subtitle", widget: "text" }
          - label: "Services"
            name: "services"
            widget: "list"
            fields:
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
          - { label: "Pricing Headline", name: "pricing_headline", widget: "string" }
          - { label: "Pricing Subtitle", name: "pricing_subtitle", widget: "text" }
          - label: "Pricing Plans"
            name: "pricing"
            widget: "list"
            required: false
            fields:
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Price", name: "price", widget: "string" }
              - { label: "Description", name: "description", widget: "string", required: false }
              - { label: "Features (one per line)", name: "features", widget: "text", required: false, hint: "Enter each feature on a new line" }
              - { label: "Highlighted", name: "highlighted", widget: "boolean", default: false }

  # ─── Taxes site pages (Landing, Pricing, FAQ, Contact) ───
  - name: "taxes_pages_en"
    label: "Taxes Pages (English)"
    folder: "content/taxes/pages/en"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Layout", name: "layout", widget: "string", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "taxes_pages_ru"
    label: "Taxes Pages (Russian)"
    folder: "content/taxes/pages/ru"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter_markdown"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string", required: false }
      - { label: "Layout", name: "layout", widget: "string", required: false }
      - { label: "Body", name: "body", widget: "markdown" }
